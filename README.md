# Creating a Gradle Project

## Learning Goals

- Create a Gradle-based Java project in IntelliJ
- Define the structure of a Gradle project
- Define the parts of a build.gradle configuration file

## Introduction
  
Gradle is a fully open source build tool that emphasizes flexibility, performance,
user experience, and dependency management.
Gradle was designed for multi-project builds, which can grow to be large.

Gradle configures a project using a Domain Specific Language (DSL) based on Groovy or Kotlin,
which are Java-like languages that compile to Java Virtual Machine (JVM) bytecode.

We will step through the process of using IntelliJ to create a Java project
that will be built using Gradle. Gradle comes bundled with IntelliJ, so we don't have
to install anything to get started.

## Create a Gradle project
  
Open IntelliJ then select "File/New/Project" from the menu-bar
or click the "New Project" button.
    
![new gradle project](https://curriculum-content.s3.amazonaws.com/6002/creating-a-gradle-project/newproject.png)

1. Enter "example-app-2" for the project name.
2. Enter a folder location to store the project.
3. Select "Java" as the language.
4. Select "Gradle" as the build system.
5. Select a Java version that is at least Java 11.
6. Select "Groovy" as the Gradle DSL.
7. Check  "Add sample code"
8. Enter "org.example" for the GroupId.
9. Enter "example-app-2" for the ArtifactId.
10. Press "Create".

IntelliJ creates the new project with the sample `Main` class.
   
![new project view](https://curriculum-content.s3.amazonaws.com/6002/creating-a-gradle-project/projectfolders.png)

Press the green run button to execute the `main` method.
The `.gradle` folder is created after the code compiles and runs.


## Gradle Directory Structure

A Gradle project has a
[standard directory structure](https://docs.gradle.org/current/userguide/organizing_gradle_projects.html)
for source code and configurations. 

The following is a basic structure of a Gradle project:

```text
└── /example-app-2
		├── src
		│   ├── main
		│   │   ├── java
		│   │   └── resources
		│   └── test
		│       ├── java
		│       └── resources
		├── build.gradle
		└── settings.gradle	
```

The structure of the `src` folder is similar to Maven's. Gradle does not use a `pom.xml` file.
Instead, `build.gradle` is the main configuration file for the project's build and dependencies.
A Gradle project also should include `settings.gradle` to identify
which projects are included in the build.

There are additional directories and files that you may see in a standard Gradle project. Check out
[the official documentation](https://docs.gradle.org/current/userguide/organizing_gradle_projects.html)
for a list of these directories and files.

IntelliJ adds additional directories and files to the project as well.
The Gradle Wrapper consists of a batch script for Windows `gradlew.bat`
and a shell script for OS X and Linux `gradlew`. The scripts
let us run a build without requiring Gradle to be installed on the system.

## build.gradle

Open the `build.gradle` file to explore its contents.  The contents
are written in `Groovy` rather than `XML`.  While the syntax
looks very different, Gradle's `build.gradle` is the direct equivalent of Maven's `pom.xml`.


```groovy
plugins {
   id 'java'
}

group 'org.example'
version '1.0-SNAPSHOT'

repositories {
   mavenCentral()
}

dependencies {
   testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'
   testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'
}

test {
   useJUnitPlatform()
}
```

- The Java plugin adds Java compilation along with testing and bundling capabilities to a project.
- The group and version are similar to Maven coordinates.
- Maven Central is a popular repository hosting open source Java libraries.
  Declaring this repository allows Gradle to  consume dependencies available
  in the local  Maven repository.
- The Junit dependency already exists in the default `build.gradle`
  generated by IntelliJ, so we don't have to add it manually.
- In order to run JUnit 5 tests, the test section needs to specify useJUnitPlatform().

There are many other optional elements that can be added to `build.gradle`, but
the example file shows the default structure generated by IntelliJ for a Java project.

## Conclusion

We’ve learned how to create a Gradle project and learned the basic properties of
the `gradle.build` file.

## Resources

- [Gradle installation](https://gradle.org/install/)     
- [Gradle  directory structure](https://docs.gradle.org/current/userguide/organizing_gradle_projects.html)   
- [build.gradle](https://docs.gradle.org/current/userguide/tutorial_using_tasks.html)    
